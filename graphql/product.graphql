extend type Query {
    product(
      id: ID @eq @rules(apply: ["required_with:name,price"])
    ): Product @find

    products(name: String @where(operator: "like")): [Product] @paginate(defaultCount: 10)
}

type Product {
  id: ID!
  name: String!
  price: String!
  photo: String!
  stock: Int!
  users: [User!]! @belongsToMany(relation: "users")
  created_at: DateTime!
  updated_at: DateTime!
}